<agm-map [panControl]="true" [zoom]=11 [disableDefaultUI]="true" [mapTypeId]="'hybrid'" [latitude]="this.latitudCenter"
  [mapTypeControl]="true" [longitude]="this.longitudCenter">
  <agm-polygon *ngFor="let area of (listArea | async)" [paths]="area.paths" (polyClick)="mostrarMensaje(area.id,area.area)"
    [strokeColor]="area.color" [zIndex]="area.zIndex"></agm-polygon>

  <agm-marker label="Incidencia" [longitude]="incidencia.longitud" [latitude]="incidencia.latitud" *ngFor="let incidencia of (listaIncidencia | async)">
    <agm-info-window>
      <strong>incidencia:</strong> {{incidencia.detalle}}
      <strong>tipo:</strong>{{incidencia.tipoIncidencia.tipo}}
      <div class="display_flex">
        <figure class="image is-96x96" *ngFor="let foto of incidencia.urlListOfPhotos">
          <img [src]="foto.url" [alt]="foto.name" />
        </figure>
      </div>
    </agm-info-window>
  </agm-marker>
  <agm-marker iconUrl="./assets/Iconos-ica/{{resultado.riesgo=='Muy Alto'? 'riesgo-alto-ica.png':'incumplimiento-ica.png' }}"
    [longitude]="resultado.lng" [latitude]="resultado.lat" *ngFor="let resultado of listResultIncumplidoICA | async ">
    <agm-info-window>
      <strong>Parametro:</strong> {{resultado.parametro.nombreCorto}}
      <strong>Resultado:</strong>{{resultado.parametro.resultado}}
    </agm-info-window>
  </agm-marker>

</agm-map>
<div class="legend">
  <div id="titulo">
    <h3>√ÅREAS </h3>
  </div>
  <ul>
    <li *ngFor="let areaLeyenda of (listArea | async)" (click)="mostrarMensaje(areaLeyenda.id,areaLeyenda.area)">
      <i class="material-icons " [ngStyle]="{'color': areaLeyenda.color}">fiber_manual_record</i>
      {{areaLeyenda.area}}
    </li>
  </ul>
</div>
